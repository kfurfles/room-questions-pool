 <!DOCTYPE html>
  <meta charset="utf-8" />
  <title>WebSocket Test</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.1/socket.io.min.js"></script>
  <script language="javascript" type="text/javascript">

var wsUri = 'ws://localhost:8080';
  var output;

  function init()
  {
    const socket = new WebSocket('ws://localhost:8080?roomid=5ffe5f5405eda440e035a2531');
    window.socket = socket
      socket.onopen = function() {
        console.log('Connected');
        // socket.send(
        //   JSON.stringify({
        //     event: 'events',
        //     data: {}
        //   }),
        // );

        // socket.onmessage = function(data) {
        //   console.log(data);
        // };
      };

    socket.onmessage = function(ev){
        console.log({ ev })
    }

    socket.onmessage = function (event) {
        console.log(event.data);
    }
    
    // setTimeout(() => {
    //   console.log('dispatching close')
    //   socket.close()
    // }, 3000)

  }

  window.addEventListener("load", init, false);

  </script>

  <h2>WebSocket Test</h2>

  <div id="output"></div>